

CREATE COMPUTE MODULE MF_Trace_ErrorHandling_Compute1
	CREATE FUNCTION Main() RETURNS BOOLEAN
	BEGIN
		CALL CopyEntireMessage();
		RETURN TRUE;
	END;

	CREATE PROCEDURE CopyEntireMessage() BEGIN
--		Handle the exception

		DECLARE refVar REFERENCE TO InputExceptionList.RecoverableException;
		WHILE LASTMOVE(refVar) AND (FIELDNAME(refVar) = 'RecoverableException') DO
			SET OutputRoot.XMLNSC.ErrorText = refVar.Text;
			MOVE refVar LASTCHILD;
		END WHILE;
		
	END;
END MODULE;
