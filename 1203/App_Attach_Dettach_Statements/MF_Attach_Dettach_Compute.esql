
CREATE COMPUTE MODULE MF_Attach_Dettach_Compute
	CREATE FUNCTION Main() RETURNS BOOLEAN
	BEGIN
		-- CALL CopyMessageHeaders();
		CALL CopyEntireMessage();
		RETURN TRUE;
	END;

	CREATE PROCEDURE CopyEntireMessage() BEGIN
		SET OutputRoot = InputRoot;
		DECLARE ref1 REFERENCE TO OutputRoot.XMLNSC.Data.Order[1].Item[1];
		DETACH ref1;
		ATTACH ref1 TO OutputRoot.XMLNSC.Data.Order[2] AS LASTCHILD;

	END;
END MODULE;